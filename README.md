Лабораторная работа 6, вариант 16
=================================

Постановка задачи
-----------------

Реализовать веб-приложение с использованием следующих технологий:

- фреймворк **Ruby On Rails**.
- ХД **mysql** или postgresql.

Тема приложения: Сайт отзывов о товарах (аналог irecommend.ru)

- управление контентом (списком товаров и категориями товаров - CRUD) в админке
- поиск товара по его описанию
- отзывы, рейтинг для каждого товара
- у каждого товара может быть несколько категорий, которые можно прикрепить в админке

Деплой
------

Лабораторная выполнена с использованием фреймворка Ruby On Rails и базы данных mysql.

1. Выгрузить проект из репозитория:

  ```shell
  git clone https://github.com/akonit/lab6.git
  ```
2. Перейти в выгруженную директорию lab6 и поставить недостающие пакеты, выполнив следующую команду:

  ```shell
  bundle install
  ```
3. Накатить базу данных: в директории lab6 выполнить следующую команду:

  ```shell
  mysql -u root -p < db/schema.mysql.sql
  ```
4. Создать в базе данных таблицы: в директории lab6 выполнить следующую команду:

  ```shell
  rake db:migrate
  ```
5. Запустить веб-сервер Ruby On Rails:

  ```shell
  rails server
  ```
6. Приложение доступно по следующему адресу: [http://localhost:3000](http://localhost:3000). Большая часть опций закрыта под админскую учетку: **admin/admin**.
Список опций, разрешенных пользователю:

    1. Просмотр списка продуктов
    2. Поиск по описанию в списке продуктов
    3. Просмотр отдельного продукта
    4. Написание отзывов о продуктах
    5. Проставление оценки продукту

Важные моменты в работе с приложением
-------------------------------------
1. Для реализации проставления рейтинга продуктам была использована сторонняя библиотека - [jQuery Raty](http://wbotelhos.com/raty).
2. По сравнению с 2ой и 4ой лабораторной работой произошли изменения в схеме базы данных: если раньше рейтинг рассчитывался при помощи двух полей на продукте - количества проголосовавших пользователей и средней оценки - то теперь оценки вынесены в отдельную таблицу. Этим обусловлено следующее изменение - в CRUD продуктов больше нельзя управлять средней оценкой, поскольку теперь она не принадлежит таблице продуктов. Причина этих изменений - специфика использования библиотеки `jQuery Raty`. 

Андеплой
--------

Откат базы данных выполняется при помощи следующей команды в директории lab6:

  ```shell
  mysql -u root -p < db/rollback.sql
  ```
